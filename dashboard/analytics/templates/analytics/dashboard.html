{% extends "analytics/Dashboard_index.html" %}
{% load static %}

<!-- Main Chart Goes -->
{% block content %}
<div class="container" style="margin-left:16%">
			<form class="filter" method="POST" action="dashboard">
				{% csrf_token %}
				<div class="dropdown-container">
					<label class="dropdown-label">Complaint Type</label>
					<select name="type" class="dropdown">
						<option class="dropdown-option" value="mis">Misappropriations</option>
						<option class="dropdown-option" value="irr">Irregularities</option>
					</select>
				</div>
				<div class="dropdown-container">
					<label class="dropdown-label">Year</label>
					<select name="year" class="dropdown">
						<option class="dropdown-option" value="13">2013</option>
						<option class="dropdown-option" value="14">2014</option>
						<option class="dropdown-option" value="15">2015</option>
						<option class="dropdown-option" value="16">2016</option>
					</select>
				</div>
			</form>
			
			<div class="chart-container" style="margin:0 auto">
				<canvas id="chart"></canvas>
			</div>
		</div>
	</body>
	<script>
		const log = ()=>{console.log("hi")};
		var labels = ['Andhra Pradesh', 'Arunachal Pradesh', 'A& N Islands', 'Assam', 'Bihar', 'Chandigarh', 'Chhattisgarh', 'Delhi', 'Gujarat', 'Goa', 'Haryana', 'Himachal Pradesh', 'Jharkhand', 'Karnataka', 'Kerala', 'Madhya Pradesh', 'Maharashtra', 'Odisha', 'Punjab', 'Rajasthan', 'Tamil Nadu', 'Telangana', 'Tripura', 'Uttarakhand', 'Uttar Pradesh', 'West Bengal']

		let data = JSON.parse("{{data}}")
		var ctx = document.getElementById('chart').getContext('2d');
		
		console.log(labels,data);
		var myChart = new Chart(ctx, {
		    type: 'bar',
		    data: {
		        labels: labels,
		        datasets: [{
		            label: "{{label}}",
		            data: data,
		            backgroundColor:'rgba(225,110,90,0.5)',
		            borderColor: 'rgba(255, 90, 70, 0.8)',
		            borderWidth: 1
		        }]
		    },
		    options: {
		    	responsive:false
		    }
		});

		const onclick=()=>{console.log("hi");}

	</script>
{% endblock %}
